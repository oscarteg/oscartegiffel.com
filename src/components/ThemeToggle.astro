<button
  id="themeToggle"
  class="w-8 h-8 rounded-full relative overflow-hidden z-50 flex items-center justify-center text-text-muted hover:text-text-main dark:hover:text-white transition-colors"
  aria-label="Toggle theme"
>
  <svg class="w-4 h-4 block dark:hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"/>
  </svg>
  <svg class="w-4 h-4 hidden dark:block" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <circle cx="12" cy="12" r="4"/>
    <path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/>
  </svg>
</button>

<script>
  const button = document.getElementById("themeToggle")!;

  const handleToggleClick = () => {
    const root = document.documentElement;
    root.classList.toggle("dark");
    localStorage.setItem("theme", root.classList.contains("dark") ? "dark" : "light");
  };

  // Initialize theme
  const theme = localStorage.getItem("theme") ?? "light";
  if (theme === "dark") {
    document.documentElement.classList.add("dark");
  }

  button.addEventListener("click", handleToggleClick);
</script>
